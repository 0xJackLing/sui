// Copyright (c) Mysten Labs, Inc.
// SPDX-License-Identifier: Apache-2.0

module axelar::messenger_tests {
    use sui::test_scenario::{Self as ts, ctx};
    use axelar::messenger::{Self as gmp};
    use std::vector;

    const ENotImplemented: u64 = 1337;

    #[test]
    fun test_create_messages_1() {
        let test = ts::begin(@0x0);
        let validators = gmp::init_axelar(1u64, INITIAL_OPERATORS, ctx(&mut test));
        let messages = gmp::create_test_messages(&mut validators, SIMPLE_EXECUTE_1);

        assert!(vector::length(&messages) == 1, 0);

        // validator cleanup
        // delete_messages(messages);
        gmp::delete_messages(messages);
        gmp::burn_axelar(validators);
        ts::end(test);
    }

    #[test]
    fun test_transfer_operatorship_1() {
        let test = ts::begin(@0x0);
        let validators = gmp::init_axelar(1u64, INITIAL_OPERATORS, ctx(&mut test));

        gmp::burn_axelar(validators);
        ts::end(test);

        abort ENotImplemented
    }


    /// Initial set of operators.
    /// Generated via `getAxelarInitAddresses()` call in `presets`.
    const INITIAL_OPERATORS: vector<vector<u8>> = vector[
        x"022c4ba3aa6b8add9fba0d3d2775c40b481974b013d8398ef61671e985ed020e49",
        x"036fc36aa491e0b7a220f03514c2d34d8242699b1fa689e8787cdbd0d37ac81501",
        x"02fae604df02d60377d1d7406db5a0577ec34cb75029bed101a33bba43e4b16e94",
        x"034e39f039a1ab21a724b471056941015e38666b3fb42e74202595db69d78c995e",
        x"035f34b66236101b292a5b90cdcabc6c6da35554d3f1fac1bf168f8332cc702d91",
        x"03ef9a5e77fb224bdf9e0215627d4552f6c20a8e1d7d8c7267657775888087a126",
        x"03aeff43fa709c0dd858a1fb084b7a7067a94437a5f93fa9075e5273711b189785",
        x"039c2dcb366b9197206d3720dfae63ed0a3bbb9ba3f2c0faa11c023279bed75cb1",
        x"027758131ced2331f1a28d73aafa6e58727afa16d027a0079040385488e5148e6a",
        x"02c237b957f89cb0915d23977bedffb3b09d305741a404a6938dc6bf2db5ffa114",
    ];

    /// First Test data ('ETH', '0x0', '0000000', '0x0', '0000000000')
    const SIMPLE_EXECUTE_1: vector<u8> = x"5b01000000000000000109626565705f626f6f700113617070726f7665436f6e747261637443616c6c013103455448033078300000000000000000000000000000000000000000000000000000000000000400000000050000000000c3080a21022c4ba3aa6b8add9fba0d3d2775c40b481974b013d8398ef61671e985ed020e4921036fc36aa491e0b7a220f03514c2d34d8242699b1fa689e8787cdbd0d37ac815012102fae604df02d60377d1d7406db5a0577ec34cb75029bed101a33bba43e4b16e9421034e39f039a1ab21a724b471056941015e38666b3fb42e74202595db69d78c995e21035f34b66236101b292a5b90cdcabc6c6da35554d3f1fac1bf168f8332cc702d912103ef9a5e77fb224bdf9e0215627d4552f6c20a8e1d7d8c7267657775888087a1262103aeff43fa709c0dd858a1fb084b7a7067a94437a5f93fa9075e5273711b18978521039c2dcb366b9197206d3720dfae63ed0a3bbb9ba3f2c0faa11c023279bed75cb121027758131ced2331f1a28d73aafa6e58727afa16d027a0079040385488e5148e6a2102c237b957f89cb0915d23977bedffb3b09d305741a404a6938dc6bf2db5ffa1140a32000000000000003200000000000000320000000000000032000000000000003200000000000000320000000000000032000000000000003200000000000000320000000000000032000000000000000a000000000000000a41314c0b84a1da7baa48614965e7c9b4d07e6a25a74fc1af1d19d0d9bf2373bc47471c49b4a39272e38e252fc3a19c529e4714fe1a30f1add0a8eb2b40185537e801416122cddb8913d2bb47a8ea3b1c9e830f2e3b2bd7c6017966b0241c89470413e053a6cf92b25bd944d8d679b6837ecd222a2a446de93a7be35392d08ff20d16ca01419fe0356fe807700c47f48d28c2070fad333c6f569b5ce92a3f206a0386d6352655f72633ed90d05d69596a7ae2c2db551da24463834839035b1b9a51ea489eef014138686420fef04cd175d02d218d9879a835e9a2cb21315ff5cd1830ac773942231c7f94c9fb9c71725c188c58288ae0db83dcca4c22e873db8a015cbd2e42c37a004161a507a6bd7d72b742502c85413c2ada49face4d7fd342028d062c9f1f9ab06f1ed93d728cb6c78ddd442d97ca696992603a1907dbc9ca382ea79b69c5dff14f01417cb49af5c9725640b01e092457d81506e940623ced31aca8a52e1c846e2c7a6c3b8e7a3e0f9c89610eb845a7650ce3f97c21a7ca48bc0615fa6e08e964409af40141244dcb3ae0a039bec6fd38122fb180142bacffa1d36e75349d509fb72af1f44f74008a5b2677b49710d4968ff7501f9a545779a74915522a0dc741f0436237600141cef76ced9173c7b216281af3b2e55b719972d90250d9594a143f237778d9652f5e6441274c1c3605a4583862b2f7b54bf2d117ac65061305bd67407f65485a2e00415063b469425890340d92baa1cf7353c6fb67355609b5f3ea10b3194d4bd88f496ba917568085c33ee2ac99ff628818f5a9dc1d25a25230661ebf797da71f196e00412f18ad594bda7295c15415aa827ce83dc6dcc186ecf328dbcafb55b8c0ecf4a1083bc1db2ce854b8569e18ce2999a5f8b3c6495e16ea0680ab04582a688543c600";
}
